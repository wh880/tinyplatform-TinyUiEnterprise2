(function(a){a.fn.queryFor=function(e){var b=[];var c=a(this).attr("name");if(!c){c=a(this).attr("id")}if(!c){c=a(this).attr("action")}var e=a(e);var d=function(){var g=window.localStorage.getItem(c);if(g){b=a.parseJSON(g)}};this.list=function(){return b};var f=function(){e.html('<option value="none">**查询历史**</option>');for(var h=0,g=b.length;h<g;h++){if(b[h]&&b[h]["text"]){e.append(a("<option>").attr("value",h).html(b[h].text))}}};this.add=function(g,h){b.push({text:g,value:h});window.localStorage.setItem(c,JSON.stringify(b));f()};this.getVal=function(g){if(!b){return 0}return b[g]["value"]};this.del=function(g){if(b[g]){delete b[g];window.localStorage.setItem(c,JSON.stringify(b));f()}};this.clear=function(g){window.localStorage.setItem(c,JSON.stringify(b))};d();f();return this}})(jQuery);