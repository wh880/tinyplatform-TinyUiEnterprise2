(function(e,h,c){var f="lazyLinePainter";var d={init:function(m){return this.each(function(){var t=e(this);var r=t.data(f);t.addClass("lazy-line");if(!r){var p=e.extend({width:null,height:null,strokeWidth:2,strokeColor:"#000",strokeOverColor:null,strokeCap:"round",strokeJoin:"round",strokeOpacity:1,arrowEnd:"none",strokeDash:null,onComplete:null,delay:null,overrideKey:null,drawSequential:true,speedMultiplier:1},m);var s=p.overrideKey?p.overrideKey:t.attr("id").replace("#","");var n=p.svgData[s].dimensions.width;var q=p.svgData[s].dimensions.height;p.svgData=p.svgData[s].strokepath;if(p.width===null){p.width=n}if(p.height===null){p.height=q}var o=b({viewBox:"0 0 "+n+" "+q,preserveAspectRatio:"xMidYMid"});p.svg=e(o);t.append(p.svg);t.data(f,p)}})},paint:function(){return this.each(function(){var n=e(this);var m=n.data(f);var o=function(){n.css({width:m.width,height:m.height});m.paths=[];m.longestDuration=0;m.playhead=0;for(var p=0;p<m.svgData.length;p++){var s=l(m,p);var q=s.getTotalLength();s.style.strokeDasharray=q+" "+q;s.style.strokeDashoffset=q;s.style.display="block";s.getBoundingClientRect();var r=m.svgData[p].duration*m.speedMultiplier;if(r>m.longestDuration){m.longestDuration=r}m.paths.push({duration:r,drawStartTime:m.playhead,path:s,length:q});m.playhead+=r}m.totalDuration=(m.drawSequential)?m.playhead:m.longestDuration;m.rAF=requestAnimationFrame(function(t){j(t,m)})};if(m.delay===null){o()}else{setTimeout(o,m.delay)}})},pauseResume:function(){return this.each(function(){var m=e(this).data(f);if(!m.paused){m.paused=true;cancelAnimationFrame(m.rAF)}else{m.paused=false;requestAnimationFrame(function(n){a(n,m)})}})},erase:function(){return this.each(function(){var m=e(this);m.removeData(f);m.find("svg").empty()})},destroy:function(){return this.each(function(){var m=e(this);m.removeData(f);m.remove()})},stamp:function(){return this.each(function(){var m=e(this),o=m.data(f);var n=function(){m.css({width:o.width,height:o.height});for(i=0;i<o.svgData.length;i++){o.paper.path(o.svgData[i].path).attr(g(o,o.svgData[i]))}};if(o.delay===null){n()}else{setTimeout(n,o.delay)}})}};var a=function(m,n){n.startTime=m-n.elapsed_time;requestAnimationFrame(function(o){j(o,n)})};var j=function(q,r){if(r.startTime==null){r.startTime=q}r.elapsed_time=q-r.startTime;for(var n=0;n<r.paths.length;n++){var m;if(r.drawSequential){m=r.elapsed_time-r.paths[n].drawStartTime;if(m<0){m=0}}else{m=r.elapsed_time}if(m<r.paths[n].duration&&m>0){var p=m/r.paths[n].duration*r.paths[n].length;r.paths[n].path.style.strokeDashoffset=r.paths[n].length-p}else{if(m>r.paths[n].duration){r.paths[n].path.style.strokeDashoffset=0}}}if(r.elapsed_time<r.totalDuration){r.rAF=requestAnimationFrame(function(o){j(o,r)})}else{if(r.onComplete!=null){r.onComplete()}}};var g=function(o,n){var m={stroke:(!n.strokeColor)?o.strokeColor:n.strokeColor,"fill-opacity":0,"stroke-dasharray":(!n.strokeDash)?o.strokeDash:n.strokeDash,"stroke-opacity":(!n.strokeOpacity)?o.strokeOpacity:n.strokeOpacity,"stroke-width":(!n.strokeWidth)?o.strokeWidth:n.strokeWidth,"stroke-linecap":(!n.strokeCap)?o.strokeCap:n.strokeCap,"stroke-linejoin":(!n.strokeJoin)?o.strokeJoin:n.strokeJoin};return m};var l=function(o,n){var p=document.createElementNS("http://www.w3.org/2000/svg","path");var m=e(p);o.svg.append(m);m.attr(k(o,o.svgData[n]));return p};var k=function(o,n){var m={d:n.path,stroke:(!n.strokeColor)?o.strokeColor:n.strokeColor,"fill-opacity":0,"stroke-dasharray":(!n.strokeDash)?o.strokeDash:n.strokeDash,"stroke-opacity":(!n.strokeOpacity)?o.strokeOpacity:n.strokeOpacity,"stroke-width":(!n.strokeWidth)?o.strokeWidth:n.strokeWidth,"stroke-linecap":(!n.strokeCap)?o.strokeCap:n.strokeCap,"stroke-linejoin":(!n.strokeJoin)?o.strokeJoin:n.strokeJoin,"arrow-end":(!n.arrowEnd)?o.arrowEnd:n.arrowEnd,markerWidth:"4",markerHeight:"3",orient:"auto"};return m};var b=function(m){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"viewBox",m.viewBox);n.setAttributeNS(null,"preserveAspectRatio",m.preserveAspectRatio);n.setAttribute("xmlns","http://www.w3.org/2000/svg");return n};e.fn.lazylinepainter=function(m){if(d[m]){return d[m].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof m==="object"||!m){return d.init.apply(this,arguments)}else{}}}})(jQuery,window);