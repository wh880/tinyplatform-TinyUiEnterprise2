#@table("itemlist-table")
	#@thead()
	  #@tr()
		#@th("text-c w-50px")编号#end
		#@th()文件#end
		#@th()标题#end
		#@th("w-125px")操作#end
	  #end
	#end

	#@tbody("databody")

	#@tr(trId="row1")
		#@td("text-c stepID")1#end
			#@td("w-p50")
				#tinyFileInput("file-1")
			#end
			#@td()
				#tinyInput("text" "username" ""{"class":"form-control" ,"placeholder":"标题"})
			#end
		#@td("w-p125")
				#iconOperations(iconOperationsIcon="icon-arrow-up",iconOperationsTitle="之前添加",iconOperationsCls="btn btn-small btn-default addpre")
				#iconOperations(iconOperationsIcon="icon-arrow-down",iconOperationsTitle="之后添加",iconOperationsCls="btn btn-small btn-default addnext")
				#iconOperations(iconOperationsIcon="icon-remove",iconOperationsTitle="删除",iconOperationsCls="btn btn-small btn-default delbutton")
		#end
	#end
	#end
#end
<script>
$(function(){
	function updateStepID(){
		$('.itemlist-table>.databody .stepID').each(function(index){
			$(this).html(index+1);
		});
	}
	$(".itemlist-table").on("click",".addpre",function(){
        var $thisTr=$(this).closest("tr");
        var $tpl=$thisTr.clone();
			$tpl.find("input,select").val("");
			$thisTr.before($tpl);
		updateStepID();
	}).on("click",".addnext",function(){
        var $thisTr=$(this).closest("tr");
        var $tpl=$thisTr.clone();
			$tpl.find("input,select").val("");
			$thisTr.after($tpl);
		updateStepID();
	}).on("click",".delbutton",function(){
        if($('.databody .stepID').size() == 1) return;
        var that=this;
        layer.confirm('确定删除?', function(){
            $(that).closest("tr").remove();
            updateStepID();
            layer.msg('删除成功！',2,1)
        })
	});
});
</script>