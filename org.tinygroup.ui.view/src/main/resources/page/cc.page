#*
#macro tUploadInput(name value mapInfo)#set(uploadid=fmt("upload%d",rand()),fixData=mapInfo?.fixData)
    ##if(fixData)
        #set(ss=mapInfo.remove("fixData"))
    ##end
<div class="input-group">
    <input type="text" id="${uploadid}" name="${name}" class="form-control ${mapInfo?.get("class")}" #mapToHtml(mapInfo)>
    <span id="${uploadid}-wrap"><input type="file" class="input-file" name="upfile" id="${uploadid}-file"></span>
    <span class="input-group-addon">#faIcon("cloud-upload") 浏览</span>
</div>
<script type="text/javascript">
    $(function(){
        $("#${uploadid}-wrap").on("change","#${uploadid}-file",function(){
            $.ajaxFileUpload({
                url: '#link(UPLOAD_ACTION_URL)',
                secureuri: false,
                fileElementId: "${uploadid}-file",
                dataType: 'json',
                data:{tinyFrame:1#mapToJson(fixData)},
                success: function (data, status) {
                    if(data.state=="SUCCESS"){
                        $("#${uploadid}").val(data.url);
                    }
                }
            });
        });
    });
</script>
#end

<form action="sss" action="http://127.0.0.1:8001/tt.php" method="post">



    #tUploadInput("sss1" "" {"fixData":{"data2":"sss2"}})
<input type="submit" value="save" />
  </form>



*#
#*
#macro ueditor(ueditorId ueditorName mapInfo)
<script type="text/plain" id="${ueditorId}" name="${ueditorName}">#bodyContent</script>
<script type="text/javascript">
try{UE.ueAddonPlus("${ueditorId}");}catch (e){}
UE.delEditor('${ueditorId}');
UE.getEditor('${ueditorId}',{
    #for(var:mapInfo)
    ${var.key}:${var.value},#{end}
})
</script>
#end



#@ueditor("page-body-ontent" "docText" {"imageFormData":"{objectId:1,objectType:2}"})sss#end*#


#croppAvatar("",{"width":250,"height":350})


#@lAjax("","/page/forms.pagelet",{"data-maxmin":"false"})测试#end


<script>


    /*$(function() {
        $("body").on("click","[ly-ajax]",function(){
            var $this=$(this);
            var defaults={
                title:"",
                type:1,
                scrollbar:false,
                content: str,
                maxmin:true,
                shadeClose: true,
                area: [80%, 80%]
            }
            var url=$(this).attr("data-url");
            if(type==1){
                $.get(url,function(str){
                    layer.closeAll();
                    $.extend({},
                            $.fn.modal.defaults, $this.data()
                    );
                    layer.open({
                        title:title,
                        type:1,
                        scrollbar:false,
                        content: str,
                        maxmin:true,
                        shadeClose: true,
                        area: [width, height]
                    });
                });
            }else{
                layer.open({
                    title:title,
                    type:2,
                    content: url,
                    scrollbar:false,
                    maxmin:true,
                    area: [width, height]
                });
            }
            return false;
        });
    })*/
</script>

