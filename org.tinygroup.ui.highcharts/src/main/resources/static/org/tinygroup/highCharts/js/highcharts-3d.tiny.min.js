(function(k){function h(P,R,Q){var O,N,M=R.options.chart.options3d,K=!1;Q?(K=R.inverted,Q=R.plotWidth/2,R=R.plotHeight/2,O=M.depth/2,N=p(M.depth,1)*p(M.viewDistance,0)):(Q=R.plotLeft+R.plotWidth/2,R=R.plotTop+R.plotHeight/2,O=M.depth/2,N=p(M.depth,1)*p(M.viewDistance,0));var J=[],L=Q,I=R,m=O,F=N,Q=s*(K?M.beta:-M.beta),M=s*(K?-M.alpha:M.alpha),E=j(Q),A=i(Q),y=j(M),x=i(M),l,D,C,H,G,d;k.each(P,function(n){l=(K?n.y:n.x)-L;D=(K?n.x:n.y)-I;C=(n.z||0)-m;H=A*l-E*C;G=-E*y*l-A*y*C+x*D;d=E*x*l+A*x*C+y*D;F>0&&F<Number.POSITIVE_INFINITY&&(H*=F/(d+m+F),G*=F/(d+m+F));H+=L;G+=I;d+=m;J.push({x:K?G:H,y:K?H:G,z:d})});return J}function g(d){return d!==void 0&&d!==null}function v(n){var l=0,d,m;for(d=0;d<n.length;d++){m=(d+1)%n.length,l+=n[d].x*n[m].y-n[m].x*n[d].y}return l/2}function c(m){var l=0,d;for(d=0;d<m.length;d++){l+=m[d].z}return m.length?l/m.length:0}function b(w,y,x,q,o,n,r,l){var m=[];return n>o&&n-o>e/2+0.0001?(m=m.concat(b(w,y,x,q,o,o+e/2,r,l)),m=m.concat(b(w,y,x,q,o+e/2,n,r,l))):n<o&&o-n>e/2+0.0001?(m=m.concat(b(w,y,x,q,o,o-e/2,r,l)),m=m.concat(b(w,y,x,q,o-e/2,n,r,l))):(m=n-o,["C",w+x*i(o)-x*f*m*j(o)+r,y+q*j(o)+q*f*m*i(o)+l,w+x*i(n)+x*f*m*j(n)+r,y+q*j(n)-q*f*m*i(n)+l,w+x*i(n)+r,y+q*j(n)+l])}function u(n){if(this.chart.is3d()){var l=this.chart.options.plotOptions.column.grouping;if(l!==void 0&&!l&&this.group.zIndex!==void 0&&!this.zIndexSet){this.group.attr({zIndex:this.group.zIndex*10}),this.zIndexSet=!0}var d=this.options,m=this.options.states;this.borderWidth=d.borderWidth=g(d.edgeWidth)?d.edgeWidth:1;k.each(this.data,function(o){if(o.y!==null){o=o.pointAttr,this.borderColor=k.pick(d.edgeColor,o[""].fill),o[""].stroke=this.borderColor,o.hover.stroke=k.pick(m.hover.edgeColor,this.borderColor),o.select.stroke=k.pick(m.select.edgeColor,this.borderColor)}})}n.apply(this,[].slice.call(arguments,1))}var e=Math.PI,s=e/180,j=Math.sin,i=Math.cos,p=k.pick,t=Math.round;k.perspective=h;var f=4*(Math.sqrt(2)-1)/3/(e/2);k.SVGRenderer.prototype.toLinePath=function(m,l){var d=[];k.each(m,function(n){d.push("L",n.x,n.y)});m.length&&(d[0]="M",l&&d.push("Z"));return d};k.SVGRenderer.prototype.cuboid=function(l){var d=this.g(),l=this.cuboidPath(l);d.front=this.path(l[0]).attr({zIndex:l[3],"stroke-linejoin":"round"}).add(d);d.top=this.path(l[1]).attr({zIndex:l[4],"stroke-linejoin":"round"}).add(d);d.side=this.path(l[2]).attr({zIndex:l[5],"stroke-linejoin":"round"}).add(d);d.fillSetter=function(m){var o=k.Color(m).brighten(0.1).get(),n=k.Color(m).brighten(-0.1).get();this.front.attr({fill:m});this.top.attr({fill:o});this.side.attr({fill:n});this.color=m;return this};d.opacitySetter=function(m){this.front.attr({opacity:m});this.top.attr({opacity:m});this.side.attr({opacity:m});return this};d.attr=function(m){m.shapeArgs||g(m.x)?(m=this.renderer.cuboidPath(m.shapeArgs||m),this.front.attr({d:m[0],zIndex:m[3]}),this.top.attr({d:m[1],zIndex:m[4]}),this.side.attr({d:m[2],zIndex:m[5]})):k.SVGElement.prototype.attr.call(this,m);return this};d.animate=function(m,o,n){g(m.x)&&g(m.y)?(m=this.renderer.cuboidPath(m),this.front.attr({zIndex:m[3]}).animate({d:m[0]},o,n),this.top.attr({zIndex:m[4]}).animate({d:m[1]},o,n),this.side.attr({zIndex:m[5]}).animate({d:m[2]},o,n)):m.opacity?(this.front.animate(m,o,n),this.top.animate(m,o,n),this.side.animate(m,o,n)):k.SVGElement.prototype.animate.call(this,m,o,n);return this};d.destroy=function(){this.front.destroy();this.top.destroy();this.side.destroy();return null};d.attr({zIndex:-l[3]});return d};k.SVGRenderer.prototype.cuboidPath=function(r){var x=r.x,w=r.y,q=r.z,o=r.height,n=r.width,l=r.depth,d=k.map,m=[{x:x,y:w,z:q},{x:x+n,y:w,z:q},{x:x+n,y:w+o,z:q},{x:x,y:w+o,z:q},{x:x,y:w+o,z:q+l},{x:x+n,y:w+o,z:q+l},{x:x+n,y:w,z:q+l},{x:x,y:w,z:q+l}],m=h(m,k.charts[this.chartIndex],r.insidePlotArea),w=function(z,y){z=d(z,function(A){return m[A]});y=d(y,function(A){return m[A]});return v(z)<0?z:v(y)<0?y:[]},r=w([3,2,1,0],[7,6,5,4]),x=w([1,6,7,0],[4,5,2,3]),w=w([1,2,5,6],[0,7,4,3]);return[this.toLinePath(r,!0),this.toLinePath(x,!0),this.toLinePath(w,!0),c(r),c(x),c(w)]};k.SVGRenderer.prototype.arc3d=function(o){o.alpha*=s;o.beta*=s;var l=this.g(),d=this.arc3dPath(o),n=l.renderer,m=d.zTop*100;l.shapeArgs=o;l.top=n.path(d.top).setRadialReference(o.center).attr({zIndex:d.zTop}).add(l);l.side1=n.path(d.side2).attr({zIndex:d.zSide1});l.side2=n.path(d.side1).attr({zIndex:d.zSide2});l.inn=n.path(d.inn).attr({zIndex:d.zInn});l.out=n.path(d.out).attr({zIndex:d.zOut});l.fillSetter=function(r){this.color=r;var q=k.Color(r).brighten(-0.1).get();this.side1.attr({fill:q});this.side2.attr({fill:q});this.inn.attr({fill:q});this.out.attr({fill:q});this.top.attr({fill:r});return this};l.translateXSetter=function(q){this.out.attr({translateX:q});this.inn.attr({translateX:q});this.side1.attr({translateX:q});this.side2.attr({translateX:q});this.top.attr({translateX:q})};l.translateYSetter=function(q){this.out.attr({translateY:q});this.inn.attr({translateY:q});this.side1.attr({translateY:q});this.side2.attr({translateY:q});this.top.attr({translateY:q})};l.animate=function(r,q,w){g(r.end)||g(r.start)?(this._shapeArgs=this.shapeArgs,k.SVGElement.prototype.animate.call(this,{_args:r},{duration:q,start:function(){var y=arguments[0].elem,x=y._shapeArgs;x.fill!==y.color&&y.attr({fill:x.fill})},step:function(){var y=arguments[1],x=y.elem,A=x._shapeArgs,z=y.end,y=y.pos,A=k.merge(A,{x:A.x+(z.x-A.x)*y,y:A.y+(z.y-A.y)*y,r:A.r+(z.r-A.r)*y,innerR:A.innerR+(z.innerR-A.innerR)*y,start:A.start+(z.start-A.start)*y,end:A.end+(z.end-A.end)*y}),z=x.renderer.arc3dPath(A);x.shapeArgs=A;x.top.attr({d:z.top,zIndex:z.zTop});x.inn.attr({d:z.inn,zIndex:z.zInn});x.out.attr({d:z.out,zIndex:z.zOut});x.side1.attr({d:z.side1,zIndex:z.zSide1});x.side2.attr({d:z.side2,zIndex:z.zSide2})}},w)):k.SVGElement.prototype.animate.call(this,r,q,w);return this};l.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();k.SVGElement.prototype.destroy.call(this)};l.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};l.show=function(){this.top.show();this.out.show();this.inn.show();this.side1.show();this.side2.show()};l.zIndex=m;l.attr({zIndex:m});return l};k.SVGRenderer.prototype.arc3dPath=function(K){var M=K.x,L=K.y,I=K.start,J=K.end-0.00001,H=K.r,F=K.innerR,E=K.depth,G=K.alpha,D=K.beta,q=i(I),A=j(I),K=i(J),C=j(J),z=H*i(D),y=H*i(G),r=F*i(D);F*=i(G);var m=E*j(D),B=E*j(G),E=["M",M+z*q,L+y*A],E=E.concat(b(M,L,z,y,I,J,0,0)),E=E.concat(["L",M+r*K,L+F*C]),E=E.concat(b(M,L,r,F,J,I,0,0)),E=E.concat(["Z"]),D=D>0?e/2:0,G=G>0?0:e/2,D=I>-D?I:J>-D?-D:I,l=J<e-G?J:I<e-G?e-G:J,G=["M",M+z*i(D),L+y*j(D)],G=G.concat(b(M,L,z,y,D,l,0,0)),G=G.concat(["L",M+z*i(l)+m,L+y*j(l)+B]),G=G.concat(b(M,L,z,y,l,D,m,B)),G=G.concat(["Z"]),D=["M",M+r*q,L+F*A],D=D.concat(b(M,L,r,F,I,J,0,0)),D=D.concat(["L",M+r*i(J)+m,L+F*j(J)+B]),D=D.concat(b(M,L,r,F,J,I,m,B)),D=D.concat(["Z"]),q=["M",M+z*q,L+y*A,"L",M+z*q+m,L+y*A+B,"L",M+r*q+m,L+F*A+B,"L",M+r*q,L+F*A,"Z"],M=["M",M+z*K,L+y*C,"L",M+z*K+m,L+y*C+B,"L",M+r*K+m,L+F*C+B,"L",M+r*K,L+F*C,"Z"],L=j((I+J)/2),I=j(I),J=j(J);return{top:E,zTop:H,out:G,zOut:Math.max(L,I,J)*H,inn:D,zInn:Math.max(L,I,J)*H,side1:q,zSide1:I*H*0.99,side2:M,zSide2:J*H*0.99}};k.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled};k.wrap(k.Chart.prototype,"isInsidePlot",function(d){return this.is3d()?!0:d.apply(this,[].slice.call(arguments,1))});k.getOptions().chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}};k.wrap(k.Chart.prototype,"init",function(m){var l=[].slice.call(arguments,1),d;if(l[0].chart.options3d&&l[0].chart.options3d.enabled){d=l[0].plotOptions||{},d=d.pie||{},d.borderColor=k.pick(d.borderColor,void 0)}m.apply(this,l)});k.wrap(k.Chart.prototype,"setChartSize",function(o){o.apply(this,[].slice.call(arguments,1));if(this.is3d()){var m=this.inverted,l=this.clipBox,n=this.margin;l[m?"y":"x"]=-(n[3]||0);l[m?"x":"y"]=-(n[0]||0);l[m?"height":"width"]=this.chartWidth+(n[3]||0)+(n[1]||0);l[m?"width":"height"]=this.chartHeight+(n[0]||0)+(n[2]||0)}});k.wrap(k.Chart.prototype,"redraw",function(d){if(this.is3d()){this.isDirtyBox=!0}d.apply(this,[].slice.call(arguments,1))});k.wrap(k.Chart.prototype,"renderSeries",function(l){var d=this.series.length;if(this.is3d()){for(;d--;){l=this.series[d],l.translate(),l.render()}}else{l.call(this)}});k.Chart.prototype.retrieveStacks=function(o){var l=this.series,d={},n,m=1;k.each(this.series,function(q){n=o?q.options.stack||0:l.length-1-q.index;d[n]?d[n].series.push(q):(d[n]={series:[q],position:m},m++)});d.totalStacks=m+1;return d};k.wrap(k.Axis.prototype,"setOptions",function(m,l){var d;m.call(this,l);if(this.chart.is3d()){d=this.options,d.tickWidth=k.pick(d.tickWidth,0),d.gridLineWidth=k.pick(d.gridLineWidth,1)}});k.wrap(k.Axis.prototype,"render",function(A){A.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var C=this.chart,B=C.renderer,z=C.options.chart.options3d,y=z.frame,x=y.bottom,r=y.back,y=y.side,q=z.depth,w=this.height,o=this.width,n=this.left,m=this.top;if(!this.isZAxis){this.horiz?(r={x:n,y:m+(C.xAxis[0].opposite?-x.size:w),z:0,width:o,height:x.size,depth:q,insidePlotArea:!1},this.bottomFrame?this.bottomFrame.animate(r):this.bottomFrame=B.cuboid(r).attr({fill:x.color,zIndex:C.yAxis[0].reversed&&z.alpha>0?4:-1}).css({stroke:x.color}).add()):(z={x:n+(C.yAxis[0].opposite?0:-y.size),y:m+(C.xAxis[0].opposite?-x.size:0),z:q,width:o+y.size,height:w+x.size,depth:r.size,insidePlotArea:!1},this.backFrame?this.backFrame.animate(z):this.backFrame=B.cuboid(z).attr({fill:r.color,zIndex:-3}).css({stroke:r.color}).add(),C={x:n+(C.yAxis[0].opposite?o:-y.size),y:m+(C.xAxis[0].opposite?-x.size:0),z:0,width:y.size,height:w+x.size,depth:q,insidePlotArea:!1},this.sideFrame?this.sideFrame.animate(C):this.sideFrame=B.cuboid(C).attr({fill:y.color,zIndex:-2}).css({stroke:y.color}).add())}}});k.wrap(k.Axis.prototype,"getPlotLinePath",function(o){var m=o.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()){return m}if(m===null){return m}var l=this.chart.options.chart.options3d,l=this.isZAxis?this.chart.plotWidth:l.depth,n=this.opposite;this.horiz&&(n=!n);m=[this.swapZ({x:m[1],y:m[2],z:n?l:0}),this.swapZ({x:m[1],y:m[2],z:l}),this.swapZ({x:m[4],y:m[5],z:l}),this.swapZ({x:m[4],y:m[5],z:n?0:l})];m=h(m,this.chart,!1);return m=this.chart.renderer.toLinePath(m,!1)});k.wrap(k.Axis.prototype,"getLinePath",function(d){return this.chart.is3d()?[]:d.apply(this,[].slice.call(arguments,1))});k.wrap(k.Axis.prototype,"getPlotBandPath",function(m){if(this.chart.is3d()){var l=arguments,d=l[1],l=this.getPlotLinePath(l[2]);(d=this.getPlotLinePath(d))&&l?d.push("L",l[10],l[11],"L",l[7],l[8],"L",l[4],l[5],"L",l[1],l[2]):d=null;return d}else{return m.apply(this,[].slice.call(arguments,1))}});k.wrap(k.Tick.prototype,"getMarkPath",function(l){var d=l.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d()){return d}d=[this.axis.swapZ({x:d[1],y:d[2],z:0}),this.axis.swapZ({x:d[4],y:d[5],z:0})];d=h(d,this.axis.chart,!1);return d=["M",d[0].x,d[0].y,"L",d[1].x,d[1].y]});k.wrap(k.Tick.prototype,"getLabelPosition",function(m){var l=m.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d()){return l}var d=h([this.axis.swapZ({x:l.x,y:l.y,z:0})],this.axis.chart,!1)[0];d.x-=!this.axis.horiz&&this.axis.opposite?this.axis.transA:0;d.old=l;return d});k.wrap(k.Tick.prototype,"handleOverflow",function(l,d){if(this.axis.chart.is3d()){d=d.old}return l.call(this,d)});k.wrap(k.Axis.prototype,"getTitlePosition",function(l){var d=l.apply(this,[].slice.call(arguments,1));return !this.chart.is3d()?d:d=h([this.swapZ({x:d.x,y:d.y,z:0})],this.chart,!1)[0]});k.wrap(k.Axis.prototype,"drawCrosshair",function(l){var d=arguments;this.chart.is3d()&&d[2]&&(d[2]={plotX:d[2].plotXold||d[2].plotX,plotY:d[2].plotYold||d[2].plotY});l.apply(this,[].slice.call(d,1))});k.Axis.prototype.swapZ=function(o,m){if(this.isZAxis){var l=m?0:this.chart.plotLeft,n=this.chart;return{x:l+(n.yAxis[0].opposite?o.z:n.xAxis[0].width-o.z),y:o.y,z:o.x-l}}else{return o}};var a=k.ZAxis=function(){this.isZAxis=!0;this.init.apply(this,arguments)};k.extend(a.prototype,k.Axis.prototype);k.extend(a.prototype,{setOptions:function(d){d=k.merge({offset:0,lineWidth:0},d);k.Axis.prototype.setOptions.call(this,d);this.coll="zAxis"},setAxisSize:function(){k.Axis.prototype.setAxisSize.call(this);this.width=this.len=this.chart.options.chart.options3d.depth;this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var l=this,d=l.chart;l.hasVisibleSeries=!1;l.dataMin=l.dataMax=l.ignoreMinPadding=l.ignoreMaxPadding=null;l.buildStacks&&l.buildStacks();k.each(l.series,function(m){if(m.visible||!d.options.chart.ignoreHiddenSeries){if(l.hasVisibleSeries=!0,m=m.zData,m.length){l.dataMin=Math.min(p(l.dataMin,m[0]),Math.min.apply(null,m)),l.dataMax=Math.max(p(l.dataMax,m[0]),Math.max.apply(null,m))}}})}});k.wrap(k.Chart.prototype,"getAxes",function(m){var l=this,d=this.options,d=d.zAxis=k.splat(d.zAxis||{});m.call(this);if(l.is3d()){this.zAxis=[],k.each(d,function(n,o){n.index=o;n.isX=!0;(new a(l,n)).setScale()})}});k.wrap(k.seriesTypes.column.prototype,"translate",function(o){o.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var l=this.chart,d=this.options,n=d.depth||25,m=(d.stacking?d.stack||0:this._i)*(n+(d.groupZPadding||1));d.grouping!==!1&&(m=0);m+=d.groupZPadding||1;k.each(this.data,function(q){if(q.y!==null){var w=q.shapeArgs,r=q.tooltipPos;q.shapeType="cuboid";w.z=m;w.depth=n;w.insidePlotArea=!0;r=h([{x:r[0],y:r[1],z:m}],l,!1)[0];q.tooltipPos=[r.x,r.y]}});this.z=m}});k.wrap(k.seriesTypes.column.prototype,"animate",function(o){if(this.chart.is3d()){var l=arguments[1],d=this.yAxis,n=this,m=this.yAxis.reversed;if(k.svg){l?k.each(n.data,function(q){if(q.y!==null&&(q.height=q.shapeArgs.height,q.shapey=q.shapeArgs.y,q.shapeArgs.height=1,!m)){q.shapeArgs.y=q.stackY?q.plotY+d.translate(q.stackY):q.plotY+(q.negative?-q.height:q.height)}}):(k.each(n.data,function(q){if(q.y!==null){q.shapeArgs.height=q.height,q.shapeArgs.y=q.shapey,q.graphic&&q.graphic.animate(q.shapeArgs,n.options.animation)}}),this.drawDataLabels(),n.animate=null)}}else{o.apply(this,[].slice.call(arguments,1))}});k.wrap(k.seriesTypes.column.prototype,"init",function(q){q.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var m=this.options,l=m.grouping,o=m.stacking,n=0;if(l===void 0||l){l=this.chart.retrieveStacks(o);o=m.stack||0;for(n=0;n<l[o].series.length;n++){if(l[o].series[n]===this){break}}n=l.totalStacks*10-10*(l.totalStacks-l[o].position)-n}m.zIndex=n}});k.wrap(k.Series.prototype,"alignDataLabel",function(m){if(this.chart.is3d()&&(this.type==="column"||this.type==="columnrange")){var l=arguments[4],d={x:l.x,y:l.y,z:this.z},d=h([d],this.chart,!0)[0];l.x=d.x;l.y=d.y}m.apply(this,[].slice.call(arguments,1))});k.seriesTypes.columnrange&&k.wrap(k.seriesTypes.columnrange.prototype,"drawPoints",u);k.wrap(k.seriesTypes.column.prototype,"drawPoints",u);k.wrap(k.seriesTypes.pie.prototype,"translate",function(w){w.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var y=this,x=y.chart,r=y.options,q=r.depth||0,o=x.options.chart.options3d,m={x:x.plotWidth/2,y:x.plotHeight/2,z:o.depth},l=o.alpha,n=o.beta,d=r.stacking?(r.stack||0)*q:y._i*q;d+=q/2;r.grouping!==!1&&(d=0);k.each(y.data,function(z){var A=z.shapeArgs;z.shapeType="arc3d";A.z=d;A.depth=q*0.75;A.origin=m;A.alpha=l;A.beta=n;A.center=y.center;A=(A.end+A.start)/2;z.slicedTranslation={translateX:t(i(A)*r.slicedOffset*i(l*s)),translateY:t(j(A)*r.slicedOffset*i(l*s))}})}});k.wrap(k.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(l){var d=arguments;return this.series.chart.is3d()?[]:l.call(this,d[1])});k.wrap(k.seriesTypes.pie.prototype,"drawPoints",function(n){var l=this.group,d=this.options,m=d.states;if(this.chart.is3d()){this.borderWidth=d.borderWidth=d.edgeWidth||1,this.borderColor=d.edgeColor=k.pick(d.edgeColor,d.borderColor,void 0),m.hover.borderColor=k.pick(m.hover.edgeColor,this.borderColor),m.hover.borderWidth=k.pick(m.hover.edgeWidth,this.borderWidth),m.select.borderColor=k.pick(m.select.edgeColor,this.borderColor),m.select.borderWidth=k.pick(m.select.edgeWidth,this.borderWidth),k.each(this.data,function(q){var o=q.pointAttr;o[""].stroke=q.series.borderColor||q.color;o[""]["stroke-width"]=q.series.borderWidth;o.hover.stroke=m.hover.borderColor;o.hover["stroke-width"]=m.hover.borderWidth;o.select.stroke=m.select.borderColor;o.select["stroke-width"]=m.select.borderWidth})}n.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&k.each(this.points,function(o){var q=o.graphic;q.out.add(l);q.inn.add(l);q.side1.add(l);q.side2.add(l);q[o.y?"show":"hide"]()})});k.wrap(k.seriesTypes.pie.prototype,"drawDataLabels",function(l){if(this.chart.is3d()){var d=this;k.each(d.data,function(m){var r=m.shapeArgs,q=r.r,o=r.depth,n=(r.alpha||d.chart.options.chart.options3d.alpha)*s,r=(r.start+r.end)/2,m=m.labelPos;m[1]+=-q*(1-i(n))*j(r)+(j(r)>0?j(n)*o:0);m[3]+=-q*(1-i(n))*j(r)+(j(r)>0?j(n)*o:0);m[5]+=-q*(1-i(n))*j(r)+(j(r)>0?j(n)*o:0)})}l.apply(this,[].slice.call(arguments,1))});k.wrap(k.seriesTypes.pie.prototype,"addPoint",function(d){d.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.update(this.userOptions,!0)});k.wrap(k.seriesTypes.pie.prototype,"animate",function(q){if(this.chart.is3d()){var l=arguments[1],d=this.options.animation,o=this.center,n=this.group,m=this.markerGroup;if(k.svg){if(d===!0&&(d={}),l){if(n.oldtranslateX=n.translateX,n.oldtranslateY=n.translateY,l={translateX:o[0],translateY:o[1],scaleX:0.001,scaleY:0.001},n.attr(l),m){m.attrSetters=n.attrSetters,m.attr(l)}}else{l={translateX:n.oldtranslateX,translateY:n.oldtranslateY,scaleX:1,scaleY:1},n.animate(l,d),m&&m.animate(l,d),this.animate=null}}}else{q.apply(this,[].slice.call(arguments,1))}});k.wrap(k.seriesTypes.scatter.prototype,"translate",function(q){q.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var l=this.chart,d=k.pick(this.zAxis,l.options.zAxis[0]),o=[],n,m;for(m=0;m<this.data.length;m++){n=this.data[m],n.isInside=n.isInside?n.z>=d.min&&n.z<=d.max:!1,o.push({x:n.plotX,y:n.plotY,z:d.translate(n.z)})}l=h(o,l,!0);for(m=0;m<this.data.length;m++){n=this.data[m],d=l[m],n.plotXold=n.plotX,n.plotYold=n.plotY,n.plotX=d.x,n.plotY=d.y,n.plotZ=d.z}}});k.wrap(k.seriesTypes.scatter.prototype,"init",function(m,l,d){if(l.is3d()){this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"]}m=m.apply(this,[l,d]);if(this.chart.is3d()){this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>":"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}return m});if(k.VMLRenderer){k.setOptions({animate:!1}),k.VMLRenderer.prototype.cuboid=k.SVGRenderer.prototype.cuboid,k.VMLRenderer.prototype.cuboidPath=k.SVGRenderer.prototype.cuboidPath,k.VMLRenderer.prototype.toLinePath=k.SVGRenderer.prototype.toLinePath,k.VMLRenderer.prototype.createElement3D=k.SVGRenderer.prototype.createElement3D,k.VMLRenderer.prototype.arc3d=function(d){d=k.SVGRenderer.prototype.arc3d.call(this,d);d.css({zIndex:d.zIndex});return d},k.VMLRenderer.prototype.arc3dPath=k.SVGRenderer.prototype.arc3dPath,k.wrap(k.Axis.prototype,"render",function(d){d.apply(this,[].slice.call(arguments,1));this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color}));this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color}));this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))})}})(Highcharts);