(function(){if(typeof angular==="undefined"){return}angular.module("bsTable",[]).directive("bsTableControl",function(){var a=".bootstrap-table";var f=".fixed-table-body";var e=".search input";var d={};function b(h){var g;$.each(d,function(j,i){if(!i.$el.closest(a).has(h).length){return}g=i;return true});return g}$(window).resize(function(){$.each(d,function(h,g){g.$el.bootstrapTable("resetView")})});function c(){var g=this;var h=g.$s.bsTableControl.state;g.$s.$applyAsync(function(){h.scroll=g.$el.bootstrapTable("getScrollPosition")})}$(document).on("post-header.bs.table",a+" table",function(h){var g=b(h.target);if(!g){return}g.$el.closest(a).find(f).on("scroll",c.bind(g))}).on("sort.bs.table",a+" table",function(h,k,i){var g=b(h.target);if(!g){return}var j=g.$s.bsTableControl.state;g.$s.$applyAsync(function(){j.sortName=k;j.sortOrder=i})}).on("page-change.bs.table",a+" table",function(j,i,h){var g=b(j.target);if(!g){return}var k=g.$s.bsTableControl.state;g.$s.$applyAsync(function(){k.pageNumber=i;k.pageSize=h})}).on("search.bs.table",a+" table",function(h,j){var g=b(h.target);if(!g){return}var i=g.$s.bsTableControl.state;g.$s.$applyAsync(function(){i.searchText=j})}).on("focus blur",a+" "+e,function(h){var g=b(h.target);if(!g){return}var i=g.$s.bsTableControl.state;g.$s.$applyAsync(function(){i.searchHasFocus=$(h.target).is(":focus")})});return{restrict:"EA",scope:{bsTableControl:"="},link:function(g,i){var h=d[g.$id]={$s:g,$el:i};g.instantiated=false;g.$watch("bsTableControl.options",function(j){if(!j){j=g.bsTableControl.options={}}var k=g.bsTableControl.state||{};if(g.instantiated){i.bootstrapTable("destroy")}i.bootstrapTable(angular.extend(angular.copy(j),k));g.instantiated=true;if("scroll" in k){i.bootstrapTable("scrollTo",k.scroll)}if("searchHasFocus" in k){i.closest(a).find(e).focus()}},true);g.$watch("bsTableControl.state",function(j){if(!j){j=g.bsTableControl.state={}}i.trigger("directive-updated.bs.table",[j])},true);g.$on("$destroy",function(){delete d[g.$id]})}}})})();