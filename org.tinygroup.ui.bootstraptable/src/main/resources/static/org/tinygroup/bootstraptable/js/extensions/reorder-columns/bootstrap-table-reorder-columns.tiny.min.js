!function(d){d.extend(d.fn.bootstrapTable.defaults,{reorderableColumns:false,maxMovingRows:10,onReorderColumn:function(g){return false},dragaccept:null});d.extend(d.fn.bootstrapTable.Constructor.EVENTS,{"reorder-column.bs.table":"onReorderColumn"});var a=d.fn.bootstrapTable.Constructor,c=a.prototype.initHeader,f=a.prototype.toggleColumn,e=a.prototype.toggleView,b=a.prototype.resetView;a.prototype.initHeader=function(){c.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};a.prototype.toggleColumn=function(){f.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};a.prototype.toggleView=function(){e.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}if(this.options.cardView){return}this.makeRowsReorderable()};a.prototype.resetView=function(){b.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};a.prototype.makeRowsReorderable=function(){var g=this;try{d(this.$el).dragtable("destroy")}catch(h){}d(this.$el).dragtable({maxMovingRows:g.options.maxMovingRows,dragaccept:g.options.dragaccept,clickDelay:200,beforeStop:function(){var k=[],l=[],n=[],j=[],o=-1;g.$header.find("th").each(function(p){k.push(d(this).data("field"));l.push(d(this).data("formatter"))});if(k.length<g.columns.length){j=d.grep(g.columns,function(i){return !i.visible});for(var m=0;m<j.length;m++){k.push(j[m].field);l.push(j[m].formatter)}}for(var m=0;m<k.length;m++){o=d.fn.bootstrapTable.utils.getFieldIndex(g.columns,k[m]);if(o!==-1){n.push(g.columns[o]);g.columns.splice(o,1)}}g.columns=g.columns.concat(n);g.header.fields=k;g.header.formatters=l;g.resetView();g.trigger("reorder-column",k)}})}}(jQuery);